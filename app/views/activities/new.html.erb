<h3>create a new activity</h3>

<form action="<%= activities_url %>" method="post">
  <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
  <label for="activity_description">description</label>
  <input type="text" name="activity[description]" id="activity_description">
  
  <label for="activity_venue">venue</label>
  <input type="text" name="activity[venue]" id="activity_venue">
  
  <label for="activity_neighborhood">neighborhood</label>
  <input type="text" name="activity[neighborhood]" id="activity_neighborhood">
  
  
  
  <label>search: #</label>
    <input data-autocomplete="/tags/autocomplete_tag_name" name="activity[tags]" size="20" type="text" data-delimiter=" #" multiple="true"/>
  
<!--   <script type="text/template" id="tags_template">
    <select id="tag_<%%= tag_select_id %>" name="activity[tag_ids][]">
    <option value=""></option>
      <% @tags.each do |tag| %>
        <option value="<%= tag.id %>">
          <%= tag.name %>
        </option>
      <% end %>
    </select>
  </script>
  <a href="#" id="add_tags_button">add another tag</a>
   -->
  
  
  <input type="submit" value="go!">
  
</form>




<script type="application/javascript">
  var counter = 0;
  var addSelect = function(){
    var templateCode = $('#tags_template').html();
    var templateFn = _.template(templateCode);
    var renderedContent = templateFn({
      tag_select_id: counter
    })

    $('#add_tags_button').before(renderedContent);
    counter++;
  };
  addSelect();
  
  $('#add_tags_button').on('click', function(event) {
    event.preventDefault();
    addSelect();
  });

</script>